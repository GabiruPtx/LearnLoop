{% load static %}
<div id="taskDetailModal" class="task-detail-modal-overlay">
    <div class="task-detail-modal-content">
        <div class="task-detail-header">
            <h2 id="task-detail-title">TAREFA #ID</h2>
            <div class="task-detail-actions">

                <button id="task-detail-edit-btn" class="btn btn-secondary">Editar</button>
                <button class="btn-icon"><img src="{% static 'public/images/Bookmark.svg' %}" alt="Salvar"></button>
                <button class="btn-icon">...</button>
                <button id="task-detail-close-btn" class="btn-icon">&times;</button>
            </div>
        </div>

        <div class="task-detail-body">
            <div class="task-detail-main">
                <p id="task-detail-meta" class="task-meta-info">Task criada por...</p>
                <div id="task-detail-description" class="task-description-content" >
                    </div>

                <hr class="comment-separator">

                <div id="task-detail-comments-list" class="comments-section">
                    </div>
                {% if is_professor %}
                <div class="comment-box" id="comment-box-container">
                    <img class="avatar" src="{% static request.user.avatar %}" alt="Seu Avatar">
                    <div class="comment-form-wrapper" style="flex-grow: 1;">
                        <form id="comment-form">
                            <textarea id="comment-textarea" class="form-control" placeholder="Adicione um comentário..." style="width: 100%; min-height: 80px;"></textarea>

                            <div class="comment-options" style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                                {% if request.user == selected_project.responsavel %}
                                <div class="visibility-controls" style="display: flex; gap: 15px; align-items: center;">
                                    <label style="font-weight: normal;"><input type="radio" name="visibility" value="PUBLICA" checked> Público</label>
                                    <label style="font-weight: normal;"><input type="radio" name="visibility" value="ESPECIFICA"> Específico para:</label>
                                    <select id="specific-user-select" class="form-control" style="display: none; max-width: 200px;"></select>
                                </div>
                                {% else %}
                                <div></div> {# Espaçador para alinhar o botão à direita #}
                                {% endif %}
                                <button type="submit" id="submit-comment-btn" class="btn btn-primary">Comentar</button>
                            </div>
                        </form>
                        </div>
                    </div>
                {% endif %}
                </div>


            <aside class="task-detail-sidebar">
                <div id="sidebar-responsaveis" class="sidebar-section noselect">
                    <div class="sidebar-header">
                        <h4>Responsáveis</h4>
                        <img src="{% static 'public/images/Settings.svg' %}" class="sidebar-gear-icon" alt="Configurar">
                    </div>
                    <div class="sidebar-content"></div>
                    <div class="sidebar-menu-popup"></div>
                </div>
                <div id="sidebar-tags" class="sidebar-section noselect">
                    <div class="sidebar-header">
                        <h4>Labels</h4>
                        <img src="{% static 'public/images/Settings.svg' %}" class="sidebar-gear-icon" alt="Configurar">
                    </div>
                    <div class="sidebar-content"></div>
                    <div class="sidebar-menu-popup"></div>
                </div>
                 <div id="sidebar-prioridade" class="sidebar-section noselect">
                     <div class="sidebar-header">
                        <h4>Prioridade</h4>
                        <img src="{% static 'public/images/Settings.svg' %}" class="sidebar-gear-icon" alt="Configurar">
                     </div>
                    <div class="sidebar-content"></div>
                   <div class="sidebar-menu-popup"></div>
                 </div>
                <div id="sidebar-tamanho" class="sidebar-section noselect">
                    <div class="sidebar-header">
                        <h4>Tamanho</h4>
                        <img src="{% static 'public/images/Settings.svg' %}" class="sidebar-gear-icon" alt="Configurar">
                    </div>
                    <div class="sidebar-content"></div>
                    <div class="sidebar-menu-popup"></div>
                </div>

                <div id="sidebar-milestone" class="sidebar-section noselect">
                    <div class="sidebar-header">
                        <h4>Milestone</h4>
                        <img src="{% static 'public/images/Settings.svg' %}" class="sidebar-gear-icon" alt="Configurar">
                    </div>
                    <div class="sidebar-content"></div>
                    <div class="sidebar-menu-popup"></div>
                </div>
                 <div id="sidebar-sprint" class="sidebar-section noselect">
                    <div class="sidebar-header">
                        <h4>Sprint</h4>
                        <img src="{% static 'public/images/Settings.svg' %}" class="sidebar-gear-icon" alt="Configurar">
                    </div>
                    <div class="sidebar-content"></div>
                    <div class="sidebar-menu-popup"></div>
                </div>
            </aside>
        </div>
    </div>
</div>